<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <title>Niyantri Dog Care | Checkout</title>
  <meta name='description' content='Checkout and booking confirmation with a mock PayPal flow.' />
  <script src='https://cdn.tailwindcss.com'></script>
  <link rel='stylesheet' href='https://unpkg.com/swiper/swiper-bundle.min.css' />
  <script src='https://unpkg.com/swiper/swiper-bundle.min.js'></script>
  <link href='https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap' rel='stylesheet'>
  <style>.custom-font { font-family: 'Inter', system-ui, -apple-system, Arial; }</style>
</head>
<body class='min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-blue-50 text-gray-800 custom-font'>
  <!-- Shared Header -->
  <header class='bg-white/70 backdrop-blur-md sticky top-0 z-50 shadow-md'>
    <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'>
      <div class='flex items-center justify-between h-16'>
        <div class='flex items-center'>
          <a href='index.html' class='flex items-center space-x-2'>
            <svg width='28' height='28' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
              <path d='M4 14s3-7 8-7 8 7 8 7-3 7-8 7-8-7-8-7z' stroke='#f59e0b' stroke-width='2' fill='none'/>
              <circle cx='12' cy='13' r='3' fill='#3b82f6'/>
            </svg>
            <span class='text-xl font-semibold'>Niyantri Dog Care</span>
          </a>
        </div>
        <nav class='hidden md:flex space-x-6'>
          <a href='index.html' class='hover:text-orange-600'>Home</a>
          <a href='services.html' class='hover:text-orange-600'>Services</a>
          <a href='cart.html' id='nav-cart' class='hover:text-orange-600'>Cart (<span id='cart-count'>0</span>)</a>
          <a href='about.html' class='hover:text-orange-600'>About</a>
          <a href='contact.html' class='hover:text-orange-600'>Contact</a>
        </nav>
        <div class='md:hidden'>
          <button id='mobileMenuBtn' class='p-2 rounded-md bg-yellow-100 hover:bg-yellow-200'>
            <svg width='20' height='20' viewBox='0 0 20 20' fill='currentColor' xmlns='http://www.w3.org/2000/svg'>
              <path d='M2 6h16v2H2V6zm0 4h16v2H2v-2zm0 6h16v-2H2v2z'/>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div id='mobileMenu' class='hidden md:hidden bg-white/90 border-t border-gray-200'>
      <a href='index.html' class='block px-4 py-2'>Home</a>
      <a href='services.html' class='block px-4 py-2'>Services</a>
      <a href='cart.html' class='block px-4 py-2'>Cart (<span id='cart-count-mobile'>0</span>)</a>
      <a href='about.html' class='block px-4 py-2'>About</a>
      <a href='contact.html' class='block px-4 py-2'>Contact</a>
    </div>
  </header>

  <!-- Checkout Form -->
  <main class='max-w-5xl mx-auto p-4'>
    <h1 class='text-2xl font-semibold mb-4'>Booking & Checkout</h1>
    <div class='bg-white/70 backdrop-blur-md rounded-xl shadow-md p-6 mb-6'>
      <h2 class='text-xl font-semibold mb-2'>Customer Details</h2>
      <form id='checkout-form' class='grid grid-cols-1 md:grid-cols-2 gap-4'>
        <input class='p-3 rounded border border-gray-300' placeholder='Full Name' required />
        <input class='p-3 rounded border border-gray-300' placeholder='Email' type='email' required />
        <input class='p-3 rounded border border-gray-300' placeholder='Phone' required />
        <input class='p-3 rounded border border-gray-300' placeholder='Address' required />
        <input class='p-3 rounded border border-gray-300' type='date' required />
        <input class='p-3 rounded border border-gray-300' type='time' required />
      </form>
      <p class='text-sm text-gray-600 mt-4'>Note: Your selected services will appear below. We will confirm the booking via email.</p>
    </div>

    <div class='bg-white/70 backdrop-blur-md rounded-xl shadow-md p-6'>
      <h2 class='text-xl font-semibold mb-2'>Review & Pay</h2>
      <div id='cart-items-container' class='mb-4'></div>
      <div class='flex items-center justify-between border-t pt-3'>
        <span class='font-semibold'>Total</span>
        <span id='cart-total-checkout'>0.00</span>
      </div>
      <button id='paypal-button' class='mt-4 w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition'>Pay with PayPal (Mock)</button>
      <div id='checkout-confirmation' class='hidden mt-4 p-4 bg-green-100 text-green-700 rounded'>
        Booking Confirmed! A confirmation has been sent to your email.
      </div>
    </div>
  </main>

  <!-- Shared Footer -->
  <footer class='bg-gray-900 text-white mt-12'>
    <div class='max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid md:grid-cols-3 gap-8'>
      <div>
        <h4 class='font-semibold mb-2'>Niyantri Dog Care</h4>
        <p class='text-sm text-gray-300'>Premium dog grooming and care in Jubilee Hills, Hyderabad.</p>
      </div>
      <div>
        <h4 class='font-semibold mb-2'>Locations</h4>
        <p class='text-sm text-gray-300'>Jubilee Hills, Hyderabad</p>
      </div>
      <div>
        <h4 class='font-semibold mb-2'>Contact</h4>
        <p class='text-sm text-gray-300'>Email: care@niyantri.dog</p>
      </div>
    </div>
    <div class='bg-black/40 text-center py-4'>
      <span class='text-sm text-gray-300'>&copy; 2025 Niyantri Dog Care</span>
    </div>
  </footer>

  <script>
    // Shared cart logic
    function getCart() { try { return JSON.parse(localStorage.getItem('shoppingCart')) || []; } catch(e) { return []; } }
    function saveCart(cart) { localStorage.setItem('shoppingCart', JSON.stringify(cart)); updateCartCount(); renderCartPreview(); }
    function updateCartCount() { const cart = getCart(); const total = cart.reduce((s,i)=>s+(i.quantity||0),0); const el=document.getElementById('cart-count'); const elMob=document.getElementById('cart-count-mobile'); if (el) el.textContent=total; if (elMob) elMob.textContent=total; }
    function renderCartPreview() { const cart = getCart(); const container = document.getElementById('cart-items-container'); const totalEl = document.getElementById('cart-total-checkout'); if (!container || !totalEl) return; container.innerHTML=''; if (cart.length===0){ container.innerHTML='<p>Your cart is empty.</p>'; totalEl.textContent='0.00'; return; } let total=0; cart.forEach(it => { const row=document.createElement('div'); row.className='flex items-center justify-between mb-2'; row.innerHTML = `<span>${it.name} (x${it.quantity})</span><span>â‚¹${(it.price*it.quantity).toFixed(2)}</span>`; container.appendChild(row); total += it.price*it.quantity; }); totalEl.textContent = total.toFixed(2); }
    function renderCartPage() { renderCartPreview(); }
    function proceedToCheckout() { window.location.href = './checkout.html'; }
    function mockPayPalOnSuccess() {
      const conf = document.getElementById('checkout-confirmation'); if (conf) conf.classList.remove('hidden');
      // Clear cart after success
      localStorage.removeItem('shoppingCart'); updateCartCount();
    }
    function proceedPay() { const amount = Number(document.getElementById('cart-total-checkout')?.textContent || '0'); mockPayPal(amount, mockPayPalOnSuccess); }
    // Init
    document.addEventListener('DOMContentLoaded', () => {
      updateCartCount(); renderCartPage();
      const mobileBtn = document.getElementById('mobileMenuBtn'); const mobileMenu = document.getElementById('mobileMenu'); if (mobileBtn && mobileMenu) mobileBtn.addEventListener('click', ()=>{ mobileMenu.classList.toggle('hidden'); });
      if (typeof Swiper !== 'undefined') { new Swiper('.swiper-container', { loop:true, pagination:{el:'.swiper-pagination', clickable:true}, autoplay:{delay:3000}}); }
      // PayPal flow
      const btn = document.getElementById('paypal-button'); if (btn) btn.addEventListener('click', proceedPay);
      // Populate cart preview on load
      renderCartPreview();
    });
  </script>
</body>
</html>